<Window x:Class="DisplayApp.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Display" WindowState="Maximized" Background="Black"
        KeyDown="Window_KeyDown">

    <Window.Resources>
        <Style x:Key="RecentCallItemStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="2"/>
            <Setter Property="Background" Value="#f79d59"/>
            <Setter Property="Margin" Value="0 0 0 4"/>
            <Setter Property="Padding" Value="6 4"/>
        </Style>
        <DataTemplate x:Key="RecentCallTemplate">
            <Border Style="{StaticResource RecentCallItemStyle}">
                <TextBlock Text="{Binding}" FontSize="16" FontWeight="SemiBold" Foreground="Black"/>
            </Border>
        </DataTemplate>
        <Style x:Key="PanelLabelStyle" TargetType="Border">
            <Setter Property="Background" Value="Black"/>
            <Setter Property="CornerRadius" Value="3"/>
            <Setter Property="BorderBrush" Value="White"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Margin" Value="0 6"/>
            <Setter Property="Padding" Value="6 4"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="70"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <!-- TOP BAR -->
        <Grid Background="#60E9F6" Height="70">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="160"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="260"/>
            </Grid.ColumnDefinitions>

            <!-- Logo -->
            <Border Background="#A6E87D">
                <Image x:Name="LogoImage" Stretch="Uniform" Margin="8"/>
            </Border>

            <!-- Running Text (center) -->
            <Grid Grid.Column="1" ClipToBounds="True">
                <Canvas>
                    <TextBlock x:Name="RunningTextBlock"
                               FontSize="26"
                               FontWeight="Bold"
                               Foreground="Black"
                               Text="Running text"
                               />
                </Canvas>
            </Grid>

            <!-- Recent Calls (right) -->
            <ScrollViewer Grid.Column="2" VerticalScrollBarVisibility="Hidden">
                <ItemsControl x:Name="RecentCallsList"
                              ItemTemplate="{StaticResource RecentCallTemplate}"/>
            </ScrollViewer>
        </Grid>

        <!-- MAIN CONTENT -->
            <Grid Grid.Row="1" Margin="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="260"/>
                </Grid.ColumnDefinitions>
            <!-- Video area -->
            <Grid Background="#0600A9" Margin="0 0 4 0">
                <MediaElement x:Name="VideoPlayer" LoadedBehavior="Play" UnloadedBehavior="Manual"
                              Stretch="Uniform" />
                <!-- Optional overlay clock -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="10">
                    <TextBlock x:Name="ClockText" Foreground="White" FontSize="18" Margin="0 0 12 0"/>
                    <TextBlock x:Name="DateText" Foreground="White" FontSize="18"/>
                </StackPanel>
            </Grid>

            <!-- Active Ticket Panel -->
            <StackPanel Grid.Column="1" Margin="0" VerticalAlignment="Center">
                <Border Style="{StaticResource PanelLabelStyle}">
                    <TextBlock Text="Nomor Antrian" FontSize="20" FontWeight="Bold" Foreground="White"
                               HorizontalAlignment="Center"/>
                </Border>

                <Border Style="{StaticResource PanelLabelStyle}" Padding="12 18">
                    <TextBlock x:Name="ActiveNumberText"
                               Text="-" FontSize="72" FontWeight="Bold"
                               Foreground="White" HorizontalAlignment="Center"/>
                </Border>

                <Border Style="{StaticResource PanelLabelStyle}">
                    <TextBlock x:Name="ActiveCounterText"
                               Text="Ke Loket -" FontSize="28" FontWeight="Bold"
                               Foreground="White" HorizontalAlignment="Center"/>
                </Border>
            </StackPanel>
        </Grid>
    </Grid>
</Window>