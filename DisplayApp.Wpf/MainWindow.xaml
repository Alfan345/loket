<Window x:Class="DisplayApp.Wpf.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Display" WindowState="Maximized" WindowStyle="None" ResizeMode="NoResize" Background="Black"
    KeyDown="Window_KeyDown">

    <Window.Resources>
        <Style x:Key="RecentCallItemStyle" TargetType="Border">
            <Setter Property="CornerRadius" Value="2"/>
            <Setter Property="Background" Value="#f79d59"/>
            <Setter Property="Margin" Value="0 0 0 4"/>
            <Setter Property="Padding" Value="6 4"/>
        </Style>
        <DataTemplate x:Key="RecentCallTemplate">
            <Border Style="{StaticResource RecentCallItemStyle}">
                <TextBlock Text="{Binding}" FontSize="16" FontWeight="SemiBold" Foreground="Black"/>
            </Border>
        </DataTemplate>
        <Style x:Key="PanelLabelStyle" TargetType="Border">
            <Setter Property="Background" Value="Black"/>
            <Setter Property="CornerRadius" Value="3"/>
            <Setter Property="BorderBrush" Value="White"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Margin" Value="0 6"/>
            <Setter Property="Padding" Value="6 4"/>
        </Style>

        <!-- Warna/Style untuk kartu aktif -->
        <SolidColorBrush x:Key="BrandBlue" Color="#1A2340"/>
        <SolidColorBrush x:Key="CardBorderBlue" Color="#27345A"/>
        <SolidColorBrush x:Key="CardBg" Color="#F3F7FF"/>
        <SolidColorBrush x:Key="HeaderRed" Color="#E53935"/>
        <SolidColorBrush x:Key="ActiveNumberRed" Color="#FF0000"/>

        <!-- DITAMBAHKAN: style yang dipakai panel kanan -->
        <Style x:Key="ActiveCardStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBg}"/>
            <Setter Property="CornerRadius" Value="18"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorderBlue}"/>
            <Setter Property="BorderThickness" Value="6"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Margin" Value="8"/>
        </Style>

        <Style x:Key="SubCardStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBg}"/>
            <Setter Property="CornerRadius" Value="14"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorderBlue}"/>
            <Setter Property="BorderThickness" Value="4"/>
            <Setter Property="Padding" Value="16"/>
            <Setter Property="Margin" Value="8,12,8,8"/>
        </Style>

        <Style x:Key="SectionHeaderText" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource HeaderRed}"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="70"/>
        </Grid.RowDefinitions>

        <!-- TOP BAR (card putih bulat) -->
        <Border Grid.Row="0" Background="#F7F9FF" CornerRadius="18" Margin="12,12,12,8" MinHeight="120">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="420"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="260"/>
                </Grid.ColumnDefinitions>

                <!-- Clock and Date (left) -->
                <StackPanel Grid.Column="0" Orientation="Vertical" VerticalAlignment="Center" Margin="24,0,0,0">
                    <TextBlock x:Name="ClockText" FontSize="42" FontWeight="Bold" Foreground="#1A2340"/>
                    <TextBlock x:Name="DateText"  FontSize="18" Foreground="#1A2340" TextWrapping="Wrap"/>
                </StackPanel>

                <!-- Title (center across full top bar) -->
                <TextBlock Grid.Column="0" Grid.ColumnSpan="3"
                           Text="PT POS KCU SOLO"
                           FontSize="56" FontWeight="Bold"
                           Foreground="#1A2340"
                           VerticalAlignment="Center" HorizontalAlignment="Center"
                           IsHitTestVisible="False"/>

                <!-- Logo (right) -->
                <Grid Grid.Column="2" x:Name="LogoHost"
                      VerticalAlignment="Center" HorizontalAlignment="Right"
                      Height="84" Width="240" Margin="0,0,5,0">
                    <Image x:Name="LogoImageA" Stretch="Uniform" Opacity="1"/>
                    <Image x:Name="LogoImageB" Stretch="Uniform" Opacity="0"/>
                </Grid>
            </Grid>
        </Border>

        <!-- MAIN CONTENT -->
        <Grid Grid.Row="1" Margin="8,0,8,8" Background="#0F1B37">
            <!-- Column definitions harus di awal konten Grid -->
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3.7*"/>
                <ColumnDefinition Width="1.3*"/>
            </Grid.ColumnDefinitions>

            <!-- Video area -->
            <Grid Grid.Column="0" Background="#0600A9" Margin="0,0,8,0">
                <MediaElement x:Name="VideoPlayer"
                              LoadedBehavior="Play"
                              UnloadedBehavior="Manual"
                              Stretch="Uniform"
                              IsMuted="True" />
            </Grid>

            <!-- Active Ticket Panel (kontainer biru gelap membulat) -->
            <Border Grid.Column="1" Background="#1A2340" CornerRadius="20" Margin="8,0,0,0" Padding="10">
                <StackPanel VerticalAlignment="Top">
                    <!-- Kartu: Sedang Dipanggil -->
                    <Border Style="{StaticResource ActiveCardStyle}">
                        <StackPanel>
                            <TextBlock Text="SEDANG DIPANGGIL" Style="{StaticResource SectionHeaderText}"/>
                            <!-- ActiveNumber -->
                            <TextBlock x:Name="ActiveNumberText"
                                       Text="-" FontSize="160" FontWeight="Bold"
                                       Foreground="{StaticResource ActiveNumberRed}"
                                       HorizontalAlignment="Center" Margin="0,8,0,12"/>
                            <TextBlock x:Name="ActiveCounterText"
                                       Text="Ke Loket -" FontSize="34" FontWeight="Bold"
                                       Foreground="{StaticResource BrandBlue}"
                                       HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- Kartu: Sedang Dilayani -->
                    <Border Style="{StaticResource SubCardStyle}">
                        <StackPanel>
                            <TextBlock Text="Sedang Dilayani"
                                       FontSize="24" FontWeight="Bold"
                                       Foreground="{StaticResource BrandBlue}"
                                       HorizontalAlignment="Center" Margin="0,0,0,8"/>
                            <TextBlock x:Name="ServedLine1" Text="Nomor -- Loket -" FontSize="20"
                                       Foreground="{StaticResource BrandBlue}" Margin="4,2,4,2"/>
                            <TextBlock x:Name="ServedLine2" Text="Nomor -- Loket -" FontSize="20"
                                       Foreground="{StaticResource BrandBlue}" Margin="4,2,4,2"/>
                            <TextBlock x:Name="ServedLine3" Text="Nomor -- Loket -" FontSize="20"
                                       Foreground="{StaticResource BrandBlue}" Margin="4,2,4,2"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Border>
        </Grid>

        <!-- FOOTER RUNNING TEXT -->
        <Border Grid.Row="2" Background="#1A2340">
            <Canvas>
                <TextBlock x:Name="RunningTextBlock" FontSize="28" FontWeight="Bold" Foreground="#F7F7F7" Text="lorem ipsum dolor sit amet consectetur adipiscing elit"/>
            </Canvas>
        </Border>
    </Grid>
</Window>